# dbuild

## Description

*dbuild* is a build and debugging tool based on sbt.

It is used to coordinate the development of multiple, independent projects
that evolve in parallel: dbuild uses a multi-project definition file to build
all the requested projects, and makes sure that they all work together, even
though each of them may evolve independently.

You can find the complete dbuild documentation at the
[dbuild web site](http://typesafehub.github.com/dbuild).

To recompile, publish, etc., just type the following in the root project:

  ^command

where command is one of compile, clean, test, publish, publish-local, etc.

To create a dbuild release (if you belong to the Typesafe organization on Bintray):

1. Type "^release"  (please do not use "^publish", as some additional preparation is necessary)
2. Check https://bintray.com/typesafe/ivy-releases/dbuild/view to ensure files are as expected (Optional)
3. Type "root/bintrayRelease" to make the release public

*DO NOT* try to push snapshots to Bintray; instead, add your custom version
suffix if necessary. The documentation pages on the dbuild website must be
published separately (but only for final releases).

If you are not part of the Typesafe organization on Bintray, use:

  set every bintrayOrganization := None

to publish to "ivy-releases/dbuild" in your own Bintray repository
(or to a different repository by changing the settings described
in the bintray-sbt plugin documentation pages).

If you would like to publish instead to Artifactory, for instance if you
you need to publish dbuild snapshots, or if you do not have an account on
Bintray yet, you can use:

  set every publishTo := Some(Resolver.url("somelabel", new URL("http://artifactoryhost/artifactory/repository/"))(Resolver.ivyStylePatterns))
  set every credentials := Seq(Credentials(Path.userHome / "some" / "path" / "credentials-file"))

Then, proceed with "^release" as usual to issue the snapshot to your Artifactory server.


## Get Involved

dbuild has a [mailing list](http://groups.google.com/d/forum/dbuild) for help.  Additionally, issues can be
reported to [github issue tracker](https://github.com/typesafehub/dbuild/issues).

## Release Notes

### 0.9.3

- More checks on the credentials used in Deploy
- Adjustments needed by the BinTray migration: the dbuild binaries
  are now directly published to BinTray
- The artifacts generated by dbuild may now also be easily uploaded
  to BinTray as well
- More accurate debugging information is available while debugging
- Documentation updates
- Added the "java-options" feature to the sbt build system
- Fix to typo that may prevent snapshot versions of dbuild from
  being resolved correctly
- Fix a quirk introduced in 0.9.2, which may lead to incorrect SHAs
- When --debug is provided, all available vars are now printed
- Added support for multiple target projects on the command line
- Use moduleName rather than name in module info (better with Play)
- When printing the welcome message, also include as a reference
  the exact source commit the executable was compiled from
- New "Aether" build system: similar to the "Ivy" build system,
  but once the artifacts are resolved they are still in Maven
  format, and as such can be resolved (for instance by the Scala
  Ant build file), or republished to an external repository
- ~/.m2/repository is used as a read-only remote Maven repository
- Also support "binary" and "standard" cross-version levels in
  the "Scala" build system
- Correctly handle javaAllOpts in case of repeatable configs
- Fix an issue where some -RC or milestone suffixes might have
  been incorrectly rewritten
- Longer timeouts when detecting anomalous termination
- Various minor improvements and fixes

### 0.9.2

- Added ability to create index files for deployed artifacts; this
  facility is used when creating RP releases
- Various refactorings and improvements
- More accurate handling of subprojects in the Assemble build system
- Better error handler for unknown URI schemes
- More informative diagnostic messages, in case of failed extractions
- Improvements to the Deploy facility
- Respect the local "repositories" sbt file, if one is present
- Locally published dbuild snapshots may now be more easily tested
- Split out the Deploy feature to a separate library, which can be
  used by other projects to upload artifacts via scp/artifactory/etc
- Added integration tests
- Fix to the handling of injected settings, some of which might have
  been skipped in certain cases
- Travis integration
- Other minor fixes

### 0.9.1

- Better diagnostic messages when dependency cycles are detected
- More accurate diagnostic messages for repo consistency errors
- Fix to serialization/deserialization of settings, which may
  cause repeated identical builds to fail in certain cases
